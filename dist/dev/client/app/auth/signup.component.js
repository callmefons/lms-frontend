"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
var forms_1 = require('@angular/forms');
var teacher_1 = require("../models/teacher");
var router_1 = require("@angular/router");
var teacher_service_1 = require("../services/teacher.service");
var auth_service_1 = require("./auth.service");
var validation_service_1 = require("../services/validation.service");
var SignupComponent = (function () {
    function SignupComponent(authService, teacherService, formBuilder, router) {
        this.authService = authService;
        this.teacherService = teacherService;
        this.formBuilder = formBuilder;
        this.router = router;
        this.defaultImage = "data:image/jpeg;base64,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";
        this.teacher = new teacher_1.Teacher();
        this.image = '';
        this.resizeOptions = {
            resizeMaxHeight: 150,
            resizeMaxWidth: 150
        };
        this.message = {
            title: 'ลงทะเบียน',
            content: "\u0E01\u0E32\u0E23\u0E25\u0E07\u0E17\u0E30\u0E40\u0E1A\u0E35\u0E22\u0E19\u0E40\u0E2A\u0E23\u0E47\u0E08\u0E2A\u0E34\u0E49\u0E19 \u0E42\u0E1B\u0E23\u0E14\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E01\u0E32\u0E23\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E2A\u0E21\u0E31\u0E04\u0E23\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01\u0E43\u0E19\u0E2D\u0E35\u0E40\u0E21\u0E25\u0E41\u0E2D\u0E14\u0E40\u0E14\u0E23\u0E2A\u0E17\u0E35\u0E48\u0E04\u0E38\u0E13\u0E43\u0E0A\u0E49\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49.",
            button: 'ต่อไป'
        };
        this.display = false;
        this.createForm();
    }
    SignupComponent.prototype.ngOnInit = function () {
        this.image = this.defaultImage;
    };
    SignupComponent.prototype.createForm = function () {
        this.userForm = this.formBuilder.group({
            'email': ['', [forms_1.Validators.required, validation_service_1.ValidationService.emailValidator]],
            'password': ['', [forms_1.Validators.required, validation_service_1.ValidationService.passwordValidator]],
            'password_confirmation': [''],
            'name': ['', [forms_1.Validators.required]],
            'image': [''],
            'title': ['นาย'],
            'position': ['ครูอัตราจ้าง'],
            'id_card': ['', [forms_1.Validators.required, validation_service_1.ValidationService.isNumber, forms_1.Validators.minLength(13), forms_1.Validators.maxLength(13)]],
            'phone': [''],
            'address': [''],
            'teaching_level': [''],
            'institution': [''],
            'province': ['']
        });
    };
    SignupComponent.prototype.reset = function () {
        this.createForm();
    };
    SignupComponent.prototype.selected = function (imageResult) {
        this.image = imageResult.resized
            && imageResult.resized.dataURL
            || imageResult.dataURL;
    };
    SignupComponent.prototype.showDialog = function () {
        this.display = true;
    };
    SignupComponent.prototype.onSubmit = function (teacher) {
        var _this = this;
        this.teacher = new teacher_1.Teacher(teacher.email, teacher.password, teacher.name, this.image, teacher.title, teacher.position, teacher.id_card, teacher.phone, teacher.address, teacher.teaching_level, teacher.institution, teacher.province);
        this.teacherService.addTeacher(this.teacher)
            .subscribe(function (data) {
            if (data.status == 'success') {
                _this.showDialog();
            }
        }, function (error) {
            _this.errorMessage = error[0];
            console.log(error[0]);
        });
    };
    SignupComponent.prototype.redirectPage = function () {
        this.router.navigate(['/auth/signin']);
    };
    SignupComponent.prototype.cancel = function () {
        window.history.back();
    };
    SignupComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'app-signup',
            templateUrl: 'signup.component.html',
            styleUrls: ['signup.component.css'],
        }), 
        __metadata('design:paramtypes', [auth_service_1.AuthService, teacher_service_1.TeacherService, forms_1.FormBuilder, router_1.Router])
    ], SignupComponent);
    return SignupComponent;
}());
exports.SignupComponent = SignupComponent;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9hdXRoL3NpZ251cC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHFCQUFnQyxlQUFlLENBQUMsQ0FBQTtBQUNoRCxzQkFBOEQsZ0JBQWdCLENBQUMsQ0FBQTtBQUMvRSx3QkFBc0IsbUJBQW1CLENBQUMsQ0FBQTtBQUMxQyx1QkFBcUIsaUJBQWlCLENBQUMsQ0FBQTtBQUN2QyxnQ0FBNkIsNkJBQTZCLENBQUMsQ0FBQTtBQUMzRCw2QkFBMEIsZ0JBQWdCLENBQUMsQ0FBQTtBQUUzQyxtQ0FBZ0MsZ0NBQWdDLENBQUMsQ0FBQTtBQVVqRTtJQWVFLHlCQUFtQixXQUF3QixFQUFVLGNBQThCLEVBQy9ELFdBQXdCLEVBQVUsTUFBYztRQURqRCxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUFVLG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtRQUMvRCxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUFVLFdBQU0sR0FBTixNQUFNLENBQVE7UUFkcEUsaUJBQVksR0FBUSw2MUtBQTYxSyxDQUFDO1FBRWwzSyxZQUFPLEdBQUcsSUFBSSxpQkFBTyxFQUFFLENBQUM7UUFDeEIsVUFBSyxHQUFXLEVBQUUsQ0FBQztRQUNuQixrQkFBYSxHQUFrQjtZQUM3QixlQUFlLEVBQUUsR0FBRztZQUNwQixjQUFjLEVBQUUsR0FBRztTQUNwQixDQUFDO1FBWUYsWUFBTyxHQUFHO1lBQ1IsS0FBSyxFQUFFLFdBQVc7WUFDbEIsT0FBTyxFQUFFLHNsQkFBdUc7WUFDaEgsTUFBTSxFQUFFLE9BQU87U0FDaEIsQ0FBQztRQWlDRixZQUFPLEdBQVksS0FBSyxDQUFDO1FBeEN2QixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQVJELGtDQUFRLEdBQVI7UUFDRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDakMsQ0FBQztJQWNELG9DQUFVLEdBQVY7UUFFRSxJQUFJLENBQUMsUUFBUSxHQUFHLElB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LENBQUM7SUF0R0g7UUFBQyxnQkFBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO1lBQ25CLFFBQVEsRUFBRSxZQUFZO1lBQ3RCLFdBQVcsRUFBRSx1QkFBdUI7WUFDcEMsU0FBUyxFQUFFLENBQUMsc0JBQXNCLENBQUM7U0FDcEMsQ0FBQzs7dUJBQUE7SUFxR0Ysc0JBQUM7QUFBRCxDQXBHQSxBQW9HQyxJQUFBO0FBcEdZLHVCQUFlLGtCQW9HM0IsQ0FBQSIsImZpbGUiOiJhcHAvYXV0aC9zaWdudXAuY29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnQsIE9uSW5pdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Zvcm1CdWlsZGVyLCBGb3JtR3JvdXAsIFZhbGlkYXRvcnMsIEZvcm1Db250cm9sfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge1RlYWNoZXJ9IGZyb20gXCIuLi9tb2RlbHMvdGVhY2hlclwiO1xuaW1wb3J0IHtSb3V0ZXJ9IGZyb20gXCJAYW5ndWxhci9yb3V0ZXJcIjtcbmltcG9ydCB7VGVhY2hlclNlcnZpY2V9IGZyb20gXCIuLi9zZXJ2aWNlcy90ZWFjaGVyLnNlcnZpY2VcIjtcbmltcG9ydCB7QXV0aFNlcnZpY2V9IGZyb20gXCIuL2F1dGguc2VydmljZVwiO1xuaW1wb3J0IHtJbWFnZVJlc3VsdCwgUmVzaXplT3B0aW9uc30gZnJvbSBcIm5nMi1pbWFnZXVwbG9hZFwiO1xuaW1wb3J0IHtWYWxpZGF0aW9uU2VydmljZX0gZnJvbSBcIi4uL3NlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZVwiO1xuXG5kZWNsYXJlIHZhciAkOiBhbnk7XG5cbkBDb21wb25lbnQoe1xuICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICBzZWxlY3RvcjogJ2FwcC1zaWdudXAnLFxuICB0ZW1wbGF0ZVVybDogJ3NpZ251cC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWydzaWdudXAuY29tcG9uZW50LmNzcyddLFxufSlcbmV4cG9ydCBjbGFzcyBTaWdudXBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGRlZmF1bHRJbWFnZTogYW55ID0gXCJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUFBQVFBQkFBRC8yd0JEQUFvSEJ3Z0hCZ29JQ0FnTENnb0xEaGdRRGcwTkRoMFZGaEVZSXg4bEpDSWZJaUVtS3pjdkppazBLU0VpTUVFeE5EazdQajQrSlM1RVNVTThTRGM5UGp2LzJ3QkRBUW9MQ3c0TkRod1FFQnc3S0NJb096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenYvd0FBUkNBQ1dBSllEQVNJQUFoRUJBeEVCLzhRQUh3QUFBUVVCQVFFQkFRRUFBQUFBQUFBQUFBRUNBd1FGQmdjSUNRb0wvOFFBdFJBQUFnRURBd0lFQXdVRkJBUUFBQUY5QVFJREFBUVJCUkloTVVFR0UxRmhCeUp4RkRLQmthRUlJMEt4d1JWUzBmQWtNMkp5Z2drS0ZoY1lHUm9sSmljb0tTbzBOVFkzT0RrNlEwUkZSa2RJU1VwVFZGVldWMWhaV21Oa1pXWm5hR2xxYzNSMWRuZDRlWHFEaElXR2g0aUppcEtUbEpXV2w1aVptcUtqcEtXbXA2aXBxckt6dExXMnQ3aTV1c0xEeE1YR3g4akp5dExUMU5YVzE5aloydUhpNCtUbDV1Zm82ZXJ4OHZQMDlmYjMrUG42LzhRQUh3RUFBd0VCQVFFQkFRRUJBUUFBQUFBQUFBRUNBd1FGQmdjSUNRb0wvOFFBdFJFQUFnRUNCQVFEQkFjRkJBUUFBUUozQUFFQ0F4RUVCU0V4QmhKQlVRZGhjUk1pTW9FSUZFS1JvYkhCQ1NNelV2QVZZbkxSQ2hZa05PRWw4UmNZR1JvbUp5Z3BLalUyTnpnNU9rTkVSVVpIU0VsS1UxUlZWbGRZV1ZwalpHVm1aMmhwYW5OMGRYWjNlSGw2Z29PRWhZYUhpSW1La3BPVWxaYVhtSm1hb3FPa3BhYW5xS21xc3JPMHRiYTN1TG02d3NQRXhjYkh5TW5LMHRQVTFkYlgyTm5hNHVQazVlYm42T25xOHZQMDlmYjMrUG42LzlvQURBTUJBQUlSQXhFQVB3RDJhaWlpZ0Fvb29vQUtLS1pMTkhCR1pKWFZGSFVrMEFQb3JGdWZFY1M3bHRvaTU1dzc4RHB3Y2RUK2xaMHV0MzhoT0pSR0NQdW9veCt2UDYwN0dNcThFZFZTMXhSdTdwazJOY3pNdU1FTklUbW9WK1Z0eThFZHhSWXorc3JzZDNSWEdMZjNpc0NMcWJnNTVjbXJjR3Yzc1ovZUZKUm4rSmNISHRpaXcxaUl2YzZpaXN1MTErMW53c29NREgrOXl2NS80MXBxd1pReWtFRVpCSGVrYnhrcGJNV2lpaWdvS0tLS0FDaWlpZ0Fvb29vQUtLS3dkWTFraG5zN05pR0h5eXlqakgreXA5ZlU5dWc1NkJNcEtLdXl6cVd0eDJoOHEzQ3l5OGduUHlwOWZVNTdmWHBYT3ozRTF6SjVrOGpTTmpHVDIrZzZDb2xVS29WUUFvR0FCMEZMVnBIbjFLc3ArZ1VWbTY5cmNPZzZjYnVhTnBDV0NSb3B4dVlnbkdldzRQTmVkNm40MzFuVUN5eHpmWTRqMFNEZzllTXQxejlNZlNpNDRVcFQxUjZzU0ZHU1FBTzVwRlpYR1ZZTUQzQnJ3cVNXU2FScEpYYVIyT1daamtrKzVwdEs1djhBVmZNOTRvcnlEUi9GT3A2UmNSc0xtU2UzWEFhQ1J5VksrZ3o5MzhQMTZWNnpiWGx0ZXgrWmEzRVU2ZE4wYmhnUHlwcG1GU2s0YmsxV3JMVWJpeGI5MitVenlqZERWV2lnelRhZDBkaFk2akJmcDhoMnlBWlpEMUgrSXEzWER4U3ZESXNrYkZYVTVCRmRUcG1wcGZ4WU9GbVVmTXZyN2oycVdqdHBWdWJSN2wraWlpa2RBVVVVVUFGRkZOZDFqamFSMkNvb0pabU9BQjZtZ0RQMW5ValpRQ09KZ0xpVDd1Vnp0SGMvNFovWEJybHlTVGtuSk5TM2R5OTVkU1hENUc4L0tEL0N2WWRUMjY0NHprOTZocWtqenFzK2VYa0ZJN3JHak83QlZVWlppY0FEMXBhOHU4V2VLYjNVNTVMQVJ5V2xyRzNNVEFxNytoYitlUDU4VTJ4VTZibTdJdjhBaS94ZmFYOFVtbVdkdEhjUmc4M0VneUFlZVVIL0FMTjllTWMxeE5GRlFlakNDZ3JJS0tLS0N3cVNDZWEybEUxdk04TWk5SGpZcVIrSXFPaWdSMk9qZkVLOHRtV0xWRSsxUmY4QVBSQUJJUDZIOVByWGYyTi9hNmxhcmMyYzZ6Uk54dVhzZlFqc2E4UHJ0dmhzdDM5c3UyVWo3SVl3SEc0Y1BrYmVPdlRkN2ZsVFRPV3RTaW84eTBQUXFrZ21lM21TYU00WkRrVkhSVkhGc2RwWjNTWHRzc3ljWjZybjdwOUtucm1OQ3ZEQmQrUXgvZHpjZlJ1MytGZFBVczlLbFBuamNLS0tLUm9GWmZpQzVhRFQvTFRPNlpnaElJQkE2bjZqakg0MXFWelBpUnkyb3hJMGFiWTRzbytQbXl4K1lmVDVWcG96cXk1WU5tVlJSVUY3ZVFhZlp5M2R3NFNLSlN6SCtnOXowRlVlYVlmakR4TC9BR0hackJiRlRlemc3TTgrV3Y4QWV4L0w4ZlRGZVdPN1NPenV4Wm1PV1pqa2srcHE3ZlhON3IycFhONlkza2NneU1GR1JHZy9vQmdaL3Fhb1ZMUFRwVTFDTnVvVVVVVWpVS0tLS0FDaWlpZ0FyUTBUV0o5RTFLTzhnK1lEaVNNbkFkZTQvd0E5Nno2ZWtVa2l5T2tiTXNTN25LaklVWkF5ZlFaSUgxSW9FMG1yTTl3dHJpTzd0WXJtRTdvNWtEb2ZZaklxV3NMd1NDUENOam4vQUthZitqR3JkcXp5WkswbWhRU3JCbEpCQnlDTzFkcGFUaTV0SXBoajUxeWNkajMvQUZyaXE2WHc3THZzV2pMWk1ibkE5QWVmNTVwTTN3OHJTc2ExRkZGU2R3Vngrck01MXE4RGRGZFF2MDJML1hOZGhYSDZzNGJXcndmM0hVZitPS2Y2MDBjK0krQXFWUTFuU0lOYnNmc2R4TE5IR1hESHlXQUp4Mk9RZVA4QUFWZm9xamhUYWQwY2w0azBkTks4SFNXV2syaFpXZFBPSUc1MlVITzRudnlCOUFld3JpTFR3MXJWNkNZZE5uMmdaM091d0VleGJHYTlrb3BXTjRWM0ZXT0RzUGh6R2ZCay9pRFVMdVZYTm05eEJCQ29HUGxKVXNUbklQSEFBNjlhNVBTTkMxVFhiZ3dhWlpTWExyOTRyZ0t2WEdXUEE2SHFlYTl4OEVNdDU0RjB3VEtKRWEzOHRsWVpCQUpYQkhwZ1Zic3RUME8yMVJ2RDFrOEVGMUNubUcxaWkyQlFjSGpBMjU1QndPYWs5QThkMTd3RmUrR3RDWFV0VHVvaEpKS3NVY0VJTDhrRW5jeHhqQVU5TTgvblhMQUVuQUdUWDB6ZmFmWjZuYkcydnJhSzVoYmtwSW9ZWjlmWSs5VkxUdzNvbGhCSkRhNlhheEpMR1lwTnNZeTZIcXBQVWoyb0M1ODRWWnNOT3ZkVXVSYldGckxjekVaMlJLV0lIVEo5QnlPVFhzSytHUGg3RDRnajBjV2tSMUhidkVCbW1iakdlZVN1Y0RPRDI1cnNiU3h0TlBoOGl5dFliYUxPZGtNWVJjK3VCUUZ6NW1ramtobGVLVkdqa1Jpckl3d1ZJNmdqc2E2VHdCS2krSW1na1FPdHpidkVWSXlEMFk1SGZoYVg0aXd4eGVQZFRTSkZRRm8ySUFBR1RHcEorcEpKL0dtK0RiU2UyOFhXSXVZWklTOGJTUmlSU3U5U2pZSXoxQjlhRVJVK0JucU1jYVJSckhHaW9pQUtxcU1BQWRBQlRxS0tzOHNLM2ZESjV1Ui91LzFyQ3JjOE5ENTdnK3kvMXBQWTFvL3hFYjlGRkZTZWlGY3ByeVJ4Nnc0WDc4a2F5Titxai8wR3VyckQ4U3d1MFZ2T3BZcWpGR1VESTU1eVQyKzdqL2dWTkdOWlhnekFvb29xanp3b29vb0FYNGFuUGdMVGgzSG1nKzM3MTYwYmJ3eHA5dDRtdXZFSytZMTVjb0VJWWdvZ3dCbFJqSUoyanY2MWovRDZVUkxyV21NU0pMYlVIa1dQSEN4eUFGTWZYREd1cisxVy93QnIreWVmSDlvMmVaNU84YjltY2J0dlhHZU0xQjZxZDFjaDFUVXJiU05NdU5RdTMydzI2RjJ4ako5QU05eWNBZTVwMm56M056cDhFOTNiQzFua1FNOEFmZjVlZXhPQno2OGRheGZHMXRmeTZaWjNOaGF0ZHRZMzBWMUpiSXhEU29tY3FQVTVJT1BidjByVzBqVTQ5WTA1TDJPM3VMY09XVXhYTWV4MUlKQnlQd29HVVY4SjZZdml0L0VwODFyMWsyZ0Zoc1U3UXU0REdjN1JqcmprOFZ0MVQxZlZMZlJkS3VOUnVpUkZicHVJSFZqMkE5eWNEOGFxK0Y1dFN1ZkRkbGNhc3dhOG1ReU9Rb1hBWWtxTUFER0ZJSDRVQWNmQkxwMFh4YzE5OVNsdFV0alpLamZhV1VJY3JGeDgzSFkxbGFBR3ZaZER0WUZWNHREUzROeGNJMlVhU1VrK1dwL2kyZ2pKR1FlY2NZSmRCbzloNGg4VytJN2pVTFF5cEZkK1ZHUzdLTXFXRGREejBYODY2dTN0NGJXRllMZUpJWWwrNmlLQUIrQXBwSE5XckpYaWlTaWlpcU9JSzZEdzFHUkJQTDJaZ3Y1RC93Q3ZYUDExMmtRZlo5TmlCQURNTjUvSC93Q3Rpa3pmRHE4N2wyaWlpcE84S3IzMXFMMnlsdDhnRjErVmlDUXJkUWNBak9EZzR6VmlpZ056aE9RU3JEYXlrcXk1QjJrY0VjZWhvclk4UVdQa3pHK1UvSktRc2dKSnczUUgwQU9BTzNQcVRXUFZvOHljT1NWZ29vb29JTWI3YXZocnhuQnFVcDJXR3FJTGE1WXRoVWtIM0hPZU9uSHNNbXVsOFI2UGVUeVFheG9wUk5Xc2dRb2JoYm1QcTBUSDBQVVo2SDB6a1pXb1dGdnFkaExaWEtsb3BSZzRPQ1BRajNCNXJIMHZ4VHFmZ2xFMDNYb0pMM1RGT3kydll1V1JleWtIOE9DY2pCeHVHTVMwZDFDb211VjduUzZmNC8wSzZJZ3ZaenBkNm8vZTIxNHBqTVo3amNSajZjNTlxVy8rSVBocXhQbHJmaThuT05rTm9wbFp5VGdBRWZMbjJKcVNMVXZCL2lwb2o1bW1YOHBCV05KMFV5Z2Q4SzQzRDhxMUxMUnRLMDZReVdPbTJscTVHMHZEQXFFajB5QlNPZzV1RFNOUzhYYWpEcVhpTzIreWFaYmtQYWFXeHlYYkgzNXYvaWZ3T09kM1JhM3FzT2lhTGRhbE5ncmJ4bGdwT056ZEZYUHVTQitOUjZyNGswYlJGSjFIVVlJR0FCOHN0bVFnOFpDRGsvbFhDWE4zZGZFRFVJTGlhM2t0ZEN0SDN4UlNmZXVYOVNPbU1mWHFRQ2NrZ0psSlJWMldQQjlsTGFhQkhKY016WEYyeHVaV1pza2x1aCt1QU0rK2EzS0tLczh5VDVuY0tLS0tCRm5UN1UzbDdIRGo1YzVmMkE2MTJOWnVpV0gyUzI4MlJjU3k4bkk1VWRoL24rbGFkU3p2b3c1WTY5UW9vb3BHNFVVVVVBTmRGa1JrY0JsWVlJUGNWeU9vYWJMcDB1MWlaSW1QeVNZNit4OS81OWZZZGhVYzBNZHhDME1xaGtjWUlwcG1kU21wbzRpaXIxL3BNK25qZVc4MkV0Z09CeVBUZC9MUFQ2WnhWR3FQT2xGeGRtRkl5cTZGSFVNckRCQkdRUlMwb0JKQUF5VDBGQWpCdlBCZWczaGRqWkNGMi9paFlwajZMOTM5S3ovQ1B3MzBmWC9ERnJxbDFjM3lUVGI5eXhPZ1hoMlVZQlVudDYwM1dOUTFqVllMZVRTcmtXVmxkM3kyTnRKMGE0Y2tndUQyUUVZeU9UejlCNlZvbWtXMmc2UkJwbHB1TVVBSURNY2xpVGtrL1VrMUxQUW94bWw3elBNL0JlaGFQYzZKYjM4bHBGUGRaZFpDNTNnRU1jZktUZ0hHTzFkalhCbndlK25lSU5Xc29idzJGeFpXNzMxcGNwSVNyUUE0MnlkTUhweUIyYmhnUlhYNkZQZDMzaDJ4MUM3aE1ieng1Skl4dXdTTS9qalA0MDB6Q3ZUa256WHVYYUtLS1p6Qld6b3VsZWN5M1U2L3UxT1VVL3hIMStsTzB2UTJaaE5lTGhSeXNaNm42LzRWdmdBQUFEQUhRQ2syZFZHajlxUXRGRkZTZGdVVVVVQUZGRkZBQlJSUlFBVmozdmgrR1ZTMXB0Z2NEaE1mSWVEeDdkdW41VnNVVUV5aXBLek9PdWRPdTdRbnpZVzJqSjNxTXJnZDg5dnhxR1RUNTczUmRTRnVwTTdXc2tjQUJ4bVFvUU9lM1VmblhiMUMxdEd6TTJNRnV1UFgxcDNNWTBGR1Z6elN5dHJYeHY0QXM5UHNMdzJlbzZVSThBL0swTXlMdEdjY2dIa2dqK1lJckhuOGIrT0xVYWhZcmIyVjArbUxpNnU0SXkrM25HNGtIYm5yeGpqQnlPRGp0ZGUrR21oYXRldHFMdGMydHcrZk1OcTRRU0U5U1FRZjB4blBOYXRobzJtNlpweDA2enM0b3JVZ2hvc1pENTRPN1Azc2pqbWtkQjU1YTJiYWxIYWFmQnFMWDJvZUkxVzYxUzlRNDhxMlhnb3VCaGVjcDlSZ2dEQUhwYVdzRWRvbHFrU3JBaUJGakF3RlVEQUErbFkvaHJ3WnAzaG1lOWxzRmQydVh5Ti9KalRzZ1BwblAxNHpuR2E2ZUdEYjh6am5zUFNnSHFjOURvbDFQS2NLWW90eHcwbkJ4bjA2L3dBcTJySFNiYXl3NEhtU2orTnUzMEhhcjlGTzVsQ2xHT29VVVVValVLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQVFnRVlJeUtqK3p4ZjNmMW9vb0Fla2F4akNqR2FkUlJRQVVVVVVBRkZGRkFCUlJSUUFVVVVVQWYvOWs9XCI7XG4gIHVzZXJGb3JtOiBhbnk7XG4gIHRlYWNoZXIgPSBuZXcgVGVhY2hlcigpO1xuICBpbWFnZTogc3RyaW5nID0gJyc7XG4gIHJlc2l6ZU9wdGlvbnM6IFJlc2l6ZU9wdGlvbnMgPSB7XG4gICAgcmVzaXplTWF4SGVpZ2h0OiAxNTAsXG4gICAgcmVzaXplTWF4V2lkdGg6IDE1MFxuICB9O1xuXG4gIG5nT25Jbml0KCl7XG4gICAgdGhpcy5pbWFnZSA9IHRoaXMuZGVmYXVsdEltYWdlO1xuICB9XG5cbiAgY29uc3RydWN0b3IocHVibGljIGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZSwgcHJpdmF0ZSB0ZWFjaGVyU2VydmljZTogVGVhY2hlclNlcnZpY2UsXG4gICAgICAgICAgICAgIHByaXZhdGUgZm9ybUJ1aWxkZXI6IEZvcm1CdWlsZGVyLCBwcml2YXRlIHJvdXRlcjogUm91dGVyKVxuICB7XG4gICAgdGhpcy5jcmVhdGVGb3JtKCk7XG4gIH1cblxuICBtZXNzYWdlID0ge1xuICAgIHRpdGxlOiAn4Lil4LiH4LiX4Liw4LmA4Lia4Li14Lii4LiZJyxcbiAgICBjb250ZW50OiBg4LiB4Liy4Lij4Lil4LiH4LiX4Liw4LmA4Lia4Li14Lii4LiZ4LmA4Liq4Lij4LmH4LiI4Liq4Li04LmJ4LiZIOC5guC4m+C4o+C4lOC4leC4o+C4p+C4iOC4quC4reC4muC4geC4suC4o+C4ouC4t+C4meC4ouC4seC4meC4geC4suC4o+C4quC4oeC4seC4hOC4o+C4quC4oeC4suC4iuC4tOC4geC5g+C4meC4reC4teC5gOC4oeC4peC5geC4reC4lOC5gOC4lOC4o+C4quC4l+C4teC5iOC4hOC4uOC4k+C5g+C4iuC5ieC5gOC4nuC4t+C5iOC4reC4quC4o+C5ieC4suC4h+C4muC4seC4jeC4iuC4teC4nOC4ueC5ieC5g+C4iuC5iS5gLFxuICAgIGJ1dHRvbjogJ+C4leC5iOC4reC5hOC4mydcbiAgfTtcblxuICBjcmVhdGVGb3JtKCl7XG5cbiAgICB0aGlzLnVzZXJGb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICAnZW1haWwnOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0aW9uU2VydmljZS5lbWFpbFZhbGlkYXRvcl1dLFxuICAgICAgJ3Bhc3N3b3JkJzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdGlvblNlcnZpY2UucGFzc3dvcmRWYWxpZGF0b3JdXSxcbiAgICAgICdwYXNzd29yZF9jb25maXJtYXRpb24nOiBbJyddLFxuICAgICAgJ25hbWUnOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAnaW1hZ2UnOiBbJyddLFxuICAgICAgJ3RpdGxlJzogWyfguJnguLLguKInXSxcbiAgICAgICdwb3NpdGlvbic6IFsn4LiE4Lij4Li54Lit4Lix4LiV4Lij4Liy4LiI4LmJ4Liy4LiHJ10sXG4gICAgICAnaWRfY2FyZCc6IFsnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRpb25TZXJ2aWNlLmlzTnVtYmVyLCBWYWxpZGF0b3JzLm1pbkxlbmd0aCgxMyksIFZhbGlkYXRvcnMubWF4TGVuZ3RoKDEzKV1dLFxuICAgICAgJ3Bob25lJzogWycnXSxcbiAgICAgICdhZGRyZXNzJzogWycnXSxcbiAgICAgICd0ZWFjaGluZ19sZXZlbCc6IFsnJ10sXG4gICAgICAnaW5zdGl0dXRpb24nOiBbJyddLFxuICAgICAgJ3Byb3ZpbmNlJzogWycnXVxuICAgIH0pO1xuICB9XG5cbiAgcmVzZXQoKXtcbiAgICB0aGlzLmNyZWF0ZUZvcm0oKTtcbiAgfVxuXG4gIHNlbGVjdGVkKGltYWdlUmVzdWx0OiBJbWFnZVJlc3VsdCkge1xuICAgICAgdGhpcy5pbWFnZSA9IGltYWdlUmVzdWx0LnJlc2l6ZWRcbiAgICAgICAgICAmJiBpbWFnZVJlc3VsdC5yZXNpemVkLmRhdGFVUkxcbiAgICAgICAgICB8fCBpbWFnZVJlc3VsdC5kYXRhVVJMO1xuXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLmltYWdlKTtcbiAgfVxuXG4gIGRpc3BsYXk6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gIHNob3dEaWFsb2coKSB7XG4gICAgdGhpcy5kaXNwbGF5ID0gdHJ1ZTtcbiAgfVxuXG4gIGVycm9yTWVzc2FnZTogc3RyaW5nO1xuXG4gIG9uU3VibWl0KHRlYWNoZXI6IFRlYWNoZXIpIHtcblxuICAgIHRoaXMudGVhY2hlciA9IG5ldyBUZWFjaGVyKHRlYWNoZXIuZW1haWwsIHRlYWNoZXIucGFzc3dvcmQsIHRlYWNoZXIubmFtZSwgdGhpcy5pbWFnZSwgdGVhY2hlci50aXRsZSwgdGVhY2hlci5wb3NpdGlvbixcbiAgICAgIHRlYWNoZXIuaWRfY2FyZCwgdGVhY2hlci5waG9uZSwgdGVhY2hlci5hZGRyZXNzLCB0ZWFjaGVyLnRlYWNoaW5nX2xldmVsLCB0ZWFjaGVyLmluc3RpdHV0aW9uLCB0ZWFjaGVyLnByb3ZpbmNlXG4gICAgKTtcblxuICAgIC8vY29uc29sZS5sb2codGhpcy50ZWFjaGVyKTtcblxuICAgIHRoaXMudGVhY2hlclNlcnZpY2UuYWRkVGVhY2hlcih0aGlzLnRlYWNoZXIpXG4gICAgLnN1YnNjcmliZShcbiAgICAgICAgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgIGlmKGRhdGEuc3RhdHVzID09ICdzdWNjZXNzJyl7XG4gICAgICAgICAgICB0aGlzLnNob3dEaWFsb2coKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvclswXTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3JbMF0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuXG4gIHJlZGlyZWN0UGFnZSgpe1xuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsnL2F1dGgvc2lnbmluJ10pO1xuICB9XG5cbiAgY2FuY2VsKCl7XG4gICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICB9XG5cblxuXG59XG5cblxuIl19
